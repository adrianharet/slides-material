%% magick convert -density 1200 test.pdf test.png
\documentclass[preview, border={0pt 5pt 0pt 1pt}]{standalone} % border options are {left bottom right top}

\input{input/packages.tex}
\input{input/colors.tex}
\input{input/macros.tex}

\begin{document}
    %% Model
    % \begin{table}
    %     \begin{tabular}{rl}
    %         voters & \(N = \{1, \dots , n\}\) \\
    %         alternatives & \(A = \{a,b\}\) \\
    %         correct alternative & \(a\) \\
    %         voter \(i\)'s vote & \(v_i \in A\) \\
    %         profile of votes & \(\bm{v} = (v_1, \dots , v_n)\) \\
    %         voter \(i\)'s competence & \(\Pr[v_i = a] = p_i\), with \(p_i \in [0,1]\) \\
    %         majority vote & \(F_{\maj}(\bm{v}) = x\), such that \(v_i = x\) for a (strict) majority of voters
    %     \end{tabular}
    % \end{table}
    
    %% Assumptions
    % \begin{description}
    %     \item[(Competence)] Agents are better than random at being correct:
    %     \[
    %         p_i > \frac{1}{2},~\text{for any voter}~i \in N.
    %     \]
    %     \item[(Equal Competence)] All agents have the same competence:
    %     \[
    %         p_i = p_j = p,~\text{for all voters}~i,j \in N.
    %     \]
    %     \item[(Independence)] Voters vote independently of each other:
    %     \[
    %         \Pr[v_i = x, v_j=y] = \Pr[v_i=x] \cdot \Pr[v_j=y],~\text{for all voters}~i,j \in N.
    %     \]
    % \end{description}
    % \vspace{0.1em}

    % \({\Pr}{\left[ F_\maj(v_1, \dots , v_n) = a\right]}\)

    % The profile is \(\bm{v} = (v_1)\).\\

    % The probability of a correct decision is:
    % \begin{flalign*}
    %     \Pr\left[F_\maj(v_1) = a\right] & = \Pr\left[v_1 = a\right] &\\
    %                                     & = p &\\
    %                                     & > \nicefrac{1}{2}.&
    % \end{flalign*}
    % Note that as \(p\) grows, so does group accuracy.

    % The profile is \(\bm{v} = (v_1, v_2) \).\\

    % Oh wait, we're not looking at this case.

    % Generalizing the previous identity we get the following recurrence:
    % {
    %     \footnotesize
    %     \[
    %         \textcolor{GameTheory}{{\Pr}{\left[ S_{n+2} > \left\lfloor\frac{n+2}{2} \right\rfloor \right]}} = 
    %         (1-p)^2 \cdot \textcolor{Azure}{{\Pr}{\left[ S_n > \left\lfloor\frac{n}{2}\right\rfloor + 1 \right]}} + 
    %         2p(1-p)^2 \cdot \textcolor{Honey}{{\Pr}{\left[ S_n > \left\lfloor \frac{n}{2}\right\rfloor \right]}} + 
    %         p^2 \cdot \textcolor{PastelGreen}{{\Pr}{\left[ S_n > \left\lfloor \frac{n}{2} \right\rfloor - 1 \right]}}        
    %     \]
    % }

    % \noindent
    % The events on the right-hand-side can be rewritten as:
    % {
    % \footnotesize
    % \begin{align*}
    %     \textcolor{PastelGreen}{{\Pr}{\left[ S_n > \left\lfloor \frac{n}{2}\right\rfloor-1 \right]}} &= 
    %     \textcolor{Honey}{{\Pr}{\left[ S_n > \left\lfloor\frac{n}{2} \right\rfloor \right]}} + 
    %     \binom{n}{\lfloor\nicefrac{n}{2}\rfloor}\cdot p^{\lfloor\nicefrac{n}{2}\rfloor}(1-p)^{\lfloor\nicefrac{n}{2}\rfloor+1}\\
    %     \textcolor{Azure}{{\Pr}{\left[ S_n > \left\lfloor \frac{n}{2}\right\rfloor+1 \right]}} &= 
    %     \textcolor{Honey}{{\Pr}{\left[ S_n > \left\lfloor\frac{n}{2} \right\rfloor \right]}} -
    %     \binom{n}{\lfloor\nicefrac{n}{2}+1\rfloor}\cdot p^{\lfloor\nicefrac{n}{2}\rfloor+1}(1-p)^{\lfloor\nicefrac{n}{2}\rfloor}
    % \end{align*}
    % }

    % \noindent
    % Plug second and third identities into first, and write \(\binom{n}{\lfloor\nicefrac{n}{2}\rfloor} = \binom{n}{\lfloor\nicefrac{n}{2}\rfloor+1}=c\):
    % {
    %     \footnotesize
    %     \[
    %         \textcolor{GameTheory}{{\Pr}{\left[ S_{n+2} > \left\lfloor\frac{n+2}{2} \right\rfloor \right]}} = 
    %         \textcolor{Honey}{{\Pr}{\left[ S_n > \left\lfloor \frac{n}{2}\right\rfloor \right]}} + 
    %         c \cdot p^{\lfloor\nicefrac{n}{2}\rfloor+1}(1-p)^{\lfloor\nicefrac{n}{2}\rfloor+1}(2p-1).
    %     \]
    % }

    % \noindent
    % Since \(\nicefrac{1}{2}<p<1\), the second term on the right-hand side is positive.

    % This follows from Claim 1:
    % \begin{flalign*}
    %     p & = {\Pr}{\left[ S_1 > 0 \right]} \\ 
    %       & < {\Pr}{\left[ S_3 > 1 \right]} \\
    %       & \dots \\ 
    %       & < \Pr{\left[ S_n > \lfloor \nicefrac{n}{2} \rfloor \right]} \\ 
    %       & \dots 
    % \end{flalign*}

    %% Weak Law of Large Numbers
    % If \(X_1\), \dots, \(X_n\) are independent and identically distributed (i.i.d.) random variables
    % such that \(\EXP[X_i] = \mu\), then, for any \(\epsilon > 0\), it holds that:
    % \[
    %     \lim_{n \rightarrow \infty} \Pr\left[ \left|\frac{X_1 + \dots + X_n}{n} - \mu\right|< \epsilon \right] = 1.
    % \]


    % \(\Pr\left[ X_i=1 \right] = p, \quad\Pr\left[ X_i =0\right] = 1-p\)

    % \begin{flushright}
    %     \(S_n = k\) is equivalent to 
    % \end{flushright}

    % We need to show that:
    % \[
    %     \lim_{n \rightarrow \infty} \Pr\left[ S_n > \lfloor \nicefrac{n}{2} \rfloor \right] = 1.
    % \]

    % Now, the expected value (i.e., mean \(\mu\)) of the voter random variables \(X_i\) is:
    % \begin{align*}
    %     \EXP[X_i] & = 1 \cdot p + 0 \cdot (1-p) \\ 
    %               & = p,
    % \end{align*}
    % and the Weak Law of Large Numbers gives us that, for any \(\epsilon > 0\):
    % \[
    %     \lim_{n \rightarrow \infty} \Pr\left[ \left| \frac{S_n}{n} - p\right| > \epsilon  \right] = 0.
    % \]
    % Choosing \(\epsilon\) appropriately and massaging this expression we obtain the desired conclusion.


    % Take three voters with competences \(p_1\), \(p_2\), \(p_3\).\\ 

    % The probability of a correct majority decision is:
    % \begin{flalign*}
    %     \quad\Pr\left[ F_\maj(v_1, v_2, v_3) = a \right] &={ \Pr}{\left[ \text{the profile is one of } aab, aba, baa, aaa \right]} &\\
    %                                                 & = p_1p_2(1-p_3) + p_1(1-p_2)p_3 + (1-p_1)p_2p_3 + p_1p_2p_3 &\\
    %                                                 & = p_1p_2 + p_2p_3 + p_1p_3 - 2p_1p_2p_3.&
    % \end{flalign*}

    % The group is no longer better than its members:
    % \begin{flalign*}
    %     \qquad\Pr\left[ F_\maj(0.9, 0.6, 0.55) = a\right] & = 0.77.&
    % \end{flalign*}
    % Enlarging the group does not necessarily make it better:
    % \begin{flalign*}
    %     \qquad\Pr\left[ F_\maj(0.9, 0.6, 0.55, 0.55, 0.55) = a\right] & = 0.76.&
    % \end{flalign*}
    % And if the \(p_i\)'s approach \(\nicefrac{1}{2}\) very fast then:
    % \begin{flalign*}
    %     \qquad\lim_{n\rightarrow\infty}\Pr\left[ F_\maj(v_1, \dots, v_n) = a\right] & \neq 1.&
    % \end{flalign*}

    % For \(n\) voters with competences \(p_1\), \dots , \(p_n\) that vote independently of each other,
    % if \(p_n > \nicefrac{1}{2} + \epsilon \), for some \(\epsilon > 0\), then, for any odd \(n\), 
    % it holds that \(\lim_{n\rightarrow\infty}\Pr\left[ F_\maj(v_1, \dots, v_n) = a\right]\).

    %% Model for cascades
    \begin{table}
        \begin{tabular}{rl}
            agents & \(N = \{1, \dots , n\}\) \\
            alternatives & \(A = \{a,b\}\) \\
            better alternative & \(\theta \in A\), we usually assume \(\theta = a\) \\
            voter \(i\)'s signal & \(s_i \in A\)\\
            probability of a correct signal \(i\)'s & \(\Pr[s_i = \theta ] = p\), with \(p > \nicefrac{1}{2}\) \\
            agent \(i\)'s opinion & \(v_i \in A\) \\
                               & agents speak out in sequence, and see previous opinions
        \end{tabular}
    \end{table}
\end{document}